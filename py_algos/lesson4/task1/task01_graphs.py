import matplotlib.pyplot as plt

fig, axs = plt.subplots(1, 3)

for ax in axs.flat:
    ax.set(xlabel='Количество символов в числе', ylabel='Время выполнения, с')

x_ = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192]

recursive = [
    0.00004954800533596, 0.00005513299402082339, 0.00009449899516766891, 0.0001923259987961501,
    0.0004537190034170635, 0.0009614220034563914, 0.0021742509998148307, 0.005482879001647234,
    0.014818408999417443, 0.04331965500023216, 0.14796338000451215, 0.5196730250027031,
    1.9352987469974323, 7.183742383997014
]
string_ = [
    0.00008122600411297753, 0.00010453799768583849, 0.00013919799675932154, 0.00021964600455248728,
    0.00035835799644701183, 0.0006663339954684488, 0.0012893759994767606, 0.002618532998894807,
    0.005317111994372681, 0.010505015001399443, 0.022194236997165717, 0.04999087599571794,
    0.12322501999733504, 0.3261064790058299
]
iterative = [
    5.80769992666319e-05, 5.477599916048348e-05, 8.876400534063578e-05, 0.00016441199841210619,
    0.00031527700048172846, 0.0006685469998046756, 0.0015147609956329688, 0.0038602909990004264,
    0.011522827000590041, 0.03595429800043348, 0.12430953500006581, 0.4496790940029314,
    1.7246242819965119, 6.68503041099757
]
iterative_var = [
    6.518299994695553e-05, 6.583600008980284e-05, 0.00010733400006301963, 0.00019473700001526595,
    0.0003796380000267163, 0.0006952620000220122, 0.0014445799999975861, 0.003391100000044389,
    0.008394303000045511, 0.02284372400004031, 0.07024101900003643, 0.23114871999996467,
    0.8571792689999711, 3.2042567759999656
]

axs[2].plot(x_[:13], recursive[:13], 'tab:red', label='рекурсивно')
axs[2].plot(x_[:13], string_[:13], 'tab:green', label='строково')
axs[2].plot(x_[:13], iterative[:13], 'tab:blue', label='итеративно')
axs[2].plot(x_[:13], iterative_var[:13], 'tab:orange', label='ит. с доп. переменной')

axs[1].plot(x_[:7], recursive[:7], 'tab:red')
axs[1].plot(x_[:7], string_[:7], 'tab:green')
axs[1].plot(x_[:7], iterative[:7], 'tab:blue')
axs[1].plot(x_[:7], iterative_var[:7], 'tab:orange')

axs[0].plot(x_[:5], recursive[:5], 'tab:red')
axs[0].plot(x_[:5], string_[:5], 'tab:green')
axs[0].plot(x_[:5], iterative[:5], 'tab:blue')
axs[0].plot(x_[:5], iterative_var[:5], 'tab:orange')

lines_labels = [ax.get_legend_handles_labels() for ax in fig.axes]
lines, labels = [sum(lol, []) for lol in zip(*lines_labels)]

fig.legend(lines, labels)
plt.show()
